(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{159:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"metadata",(function(){return i})),a.d(t,"toc",(function(){return u})),a.d(t,"default",(function(){return p}));var n=a(3),r=a(7),o=(a(0),a(365)),l=a(368),s=a(369),c={title:"7. Book selected seats",slug:"/tutorial/book-selected-seats",hidden:!1,createdAt:"2018-08-21T09:35:42.604Z",updatedAt:"2018-11-19T06:35:27.895Z"},i={unversionedId:"Getting Started/getting-started-quick-tutorial/tutorial-book-selected-seats",id:"Getting Started/getting-started-quick-tutorial/tutorial-book-selected-seats",isDocsHomePage:!1,title:"7. Book selected seats",description:"So you've shown your ticket buyer a floor plan, they selected the seats they wish. Now it's time to actually book them, so that they become unavailable for selection for the next ticket buyer that comes along.",source:"@site/docs/Getting Started/getting-started-quick-tutorial/tutorial-book-selected-seats.md",slug:"/tutorial/book-selected-seats",permalink:"/docs/tutorial/book-selected-seats",version:"current",sidebar:"tutorial",previous:{title:"6. Submit hold token",permalink:"/docs/tutorial/submit-hold-token"},next:{title:"8. Further reading",permalink:"/docs/tutorial/further-reading"}},u=[{value:"Seats held by the ticket buyer",id:"seats-held-by-the-ticket-buyer",children:[]},{value:"When should I book?",id:"when-should-i-book",children:[]},{value:"Live updates",id:"live-updates",children:[]},{value:"Custom statuses",id:"custom-statuses",children:[]}],b={toc:u};function p(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},b,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"So you've shown your ticket buyer a floor plan, they selected the seats they wish. Now it's time to actually book them, so that they become unavailable for selection for the next ticket buyer that comes along. "),Object(o.b)("p",null,"You do this by calling the ",Object(o.b)("a",{parentName:"p",href:"/docs/api/book-objects"},"book objects endpoint")," of the Seats API.\nHere are some examples using the respective ",Object(o.b)("a",{parentName:"p",href:"/docs/api/client-libraries"},"API Client libraries")," you can use:"),Object(o.b)(l.a,{groupId:"serverside-code-samples",defaultValue:"php",values:[{label:"PHP",value:"php"},{label:"C#",value:"csharp"},{label:"Java",value:"java"},{label:"Python",value:"python"},{label:"Ruby",value:"ruby"},{label:"Javascript",value:"javascript"}],mdxType:"Tabs"},Object(o.b)(s.a,{value:"php",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-php"},'$seatsioClient->events->book("event1", ["A-3", "A-5", "A-7"]);\n'))),Object(o.b)(s.a,{value:"csharp",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-csharp"},'Client.Events.Book("event1", new [] { "A-3", "A-5", "A-7" });\n'))),Object(o.b)(s.a,{value:"java",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-java"},'client.events.book("event1", Arrays.asList("A-3", "A-5", "A-7"));\n'))),Object(o.b)(s.a,{value:"python",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},'client.events.book("event1", ["A-3", "A-5", "A-7"])\n'))),Object(o.b)(s.a,{value:"ruby",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-ruby"},"client.events.book('event1', ['A-3', 'A-5', 'A-7'], '8AWOqZZTz5')\n"))),Object(o.b)(s.a,{value:"javascript",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-javascript"},"client.events.book('eventKey', ['A-3', 'A-5', 'A-7']);\n")))),Object(o.b)("h3",{id:"seats-held-by-the-ticket-buyer"},"Seats held by the ticket buyer"),Object(o.b)("p",null,"If the seats are held (i.e. you passed in ",Object(o.b)("inlineCode",{parentName:"p"},"session")," when rendering the chart), you need to include the hold token when booking the seats.\nseats.io verifies whether the seats were held by that token, to prevent other ticket buyers from snatching them."),Object(o.b)(l.a,{groupId:"serverside-code-samples",defaultValue:"php",values:[{label:"PHP",value:"php"},{label:"C#",value:"csharp"},{label:"Java",value:"java"},{label:"Python",value:"python"},{label:"Ruby",value:"ruby"},{label:"Javascript",value:"javascript"}],mdxType:"Tabs"},Object(o.b)(s.a,{value:"php",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-php"},'$seatsioClient->events->book("event1", ["A-3", "A-5", "A-7"], "8AWOqZZTz5");\n'))),Object(o.b)(s.a,{value:"csharp",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-csharp"},'Client.Events.Book("event1", new [] { "A-3", "A-5", "A-7" }, "8AWOqZZTz5");\n'))),Object(o.b)(s.a,{value:"java",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-java"},'client.events.book("event1", Arrays.asList("A-3", "A-5", "A-7"), "8AWOqZZTz5");\n'))),Object(o.b)(s.a,{value:"python",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-python"},'client.events.book("event1", ["A-3", "A-5", "A-7"], "8AWOqZZTz5")\n'))),Object(o.b)(s.a,{value:"ruby",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-ruby"},"client.events.book('event1', ['A-3', 'A-5', 'A-7'], '8AWOqZZTz5')\n"))),Object(o.b)(s.a,{value:"javascript",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-javascript"},"client.events.book('eventKey', ['A-3', 'A-5', 'A-7'], '8AWOqZZTz5');\n")))),Object(o.b)("h2",{id:"when-should-i-book"},"When should I book?"),Object(o.b)("p",null,'The answer is simple and complex at the same time: "whenever is appropriate in your sales flow". '),Object(o.b)("p",null,"For example, you could call the seats.io API to book seats right before you collect their payment. Or you could pre-book some seats for VIPs before you even open up ticket sales."),Object(o.b)("p",null,"For a more in-depth discussion on this topic, check ",Object(o.b)("a",{parentName:"p",href:"http://support.seats.io/integrating-seats-io/when-should-i-book-my-seats"},"this page"),"."),Object(o.b)("h2",{id:"live-updates"},"Live updates"),Object(o.b)("p",null,"Whenever you change availability for a seat, we will push out this change to everyone who has the floor plan for your event open in their browser, in near real-time."),Object(o.b)("p",null,"In other words: you can look at the seats on a floor plan as a collection of on/off switches, controllable via the REST API. You decide when you switch seats on and off, and by doing so, everyone who is looking at the floor plan will see the availability changes happening live."),Object(o.b)("h2",{id:"custom-statuses"},"Custom statuses"),Object(o.b)("p",null,"There's more than just 'booking' a seat. You can use your own statuses (i.e. other than ",Object(o.b)("em",{parentName:"p"},"BOOKED"),") as well, read more ",Object(o.b)("a",{parentName:"p",href:"/docs/api/custom-object-status"},"here"),"."))}p.isMDXComponent=!0},364:function(e,t,a){"use strict";function n(e){var t,a,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(a=n(e[t]))&&(r&&(r+=" "),r+=a);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}t.a=function(){for(var e,t,a=0,r="";a<arguments.length;)(e=arguments[a++])&&(t=n(e))&&(r&&(r+=" "),r+=t);return r}},365:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return h}));var n=a(0),r=a.n(n);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var i=r.a.createContext({}),u=function(e){var t=r.a.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},b=function(e){var t=u(e.components);return r.a.createElement(i.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,i=c(e,["components","mdxType","originalType","parentName"]),b=u(a),d=n,h=b["".concat(l,".").concat(d)]||b[d]||p[d]||o;return a?r.a.createElement(h,s(s({ref:t},i),{},{components:a})):r.a.createElement(h,s({ref:t},i))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,l=new Array(o);l[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:n,l[1]=s;for(var i=2;i<o;i++)l[i]=a[i];return r.a.createElement.apply(null,l)}return r.a.createElement.apply(null,a)}d.displayName="MDXCreateElement"},366:function(e,t,a){"use strict";var n=a(0),r=a(367);t.a=function(){var e=Object(n.useContext)(r.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},367:function(e,t,a){"use strict";var n=a(0),r=Object(n.createContext)(void 0);t.a=r},368:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(366),l=a(364),s=a(54),c=a.n(s),i=37,u=39;t.a=function(e){var t=e.lazy,a=e.block,s=e.defaultValue,b=e.values,p=e.groupId,d=e.className,h=Object(o.a)(),m=h.tabGroupChoices,v=h.setTabGroupChoices,y=Object(n.useState)(s),f=y[0],O=y[1],j=n.Children.toArray(e.children);if(null!=p){var g=m[p];null!=g&&g!==f&&b.some((function(e){return e.value===g}))&&O(g)}var k=function(e){O(e),null!=p&&v(p,e)},A=[];return r.a.createElement("div",null,r.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(l.a)("tabs",{"tabs--block":a},d)},b.map((function(e){var t=e.value,a=e.label;return r.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":f===t,className:Object(l.a)("tabs__item",c.a.tabItem,{"tabs__item--active":f===t}),key:t,ref:function(e){return A.push(e)},onKeyDown:function(e){!function(e,t,a){switch(a.keyCode){case u:!function(e,t){var a=e.indexOf(t)+1;e[a]?e[a].focus():e[0].focus()}(e,t);break;case i:!function(e,t){var a=e.indexOf(t)-1;e[a]?e[a].focus():e[e.length-1].focus()}(e,t)}}(A,e.target,e)},onFocus:function(){return k(t)},onClick:function(){k(t)}},a)}))),t?Object(n.cloneElement)(j.filter((function(e){return e.props.value===f}))[0],{className:"margin-vert--md"}):r.a.createElement("div",{className:"margin-vert--md"},j.map((function(e,t){return Object(n.cloneElement)(e,{key:t,hidden:e.props.value!==f})}))))}},369:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(e){var t=e.children,a=e.hidden,n=e.className;return r.a.createElement("div",{role:"tabpanel",hidden:a,className:n},t)}}}]);